SELECT ?club ?clubLabel ?nombreEntrenador ?uriEntrenador ?comienzo ?final
WHERE {
  {
    # Instancia de club de fútbol
    ?club wdt:P31 wd:Q476028;
          rdfs:label ?clubLabel.
    
    FILTER(LANG(?clubLabel) = "es" || LANG(?clubLabel) = "en").
    OPTIONAL { ?club wdt:P1448 ?alternativeName. }

    # Filtrar por club específico ('FC Barcelona' o 'Barça')
    FILTER(CONTAINS(LCASE(?clubLabel), "fc barcelona") || CONTAINS(LCASE(?alternativeName), "barça")).
  }
  UNION
  {
    # Instancia de club de fútbol masculino
    ?club wdt:P31 wd:Q103229495;
          rdfs:label ?clubLabel.

    FILTER(LANG(?clubLabel) = "es" || LANG(?clubLabel) = "en").
    OPTIONAL { ?club wdt:P1448 ?alternativeName. }

    # Filtrar por club específico ('FC Barcelona' o 'Barça')
    FILTER(CONTAINS(LCASE(?clubLabel), "fc barcelona") || CONTAINS(LCASE(?alternativeName), "barça")).
  }

  ?club  p:P286 ?o.
  ?o pq:P580 ?comienzo.
  ?o pq:P582 ?final.
  ?o ps:P286 ?uriEntrenador.
  ?uriEntrenador rdfs:label ?nombreEntrenador
  FILTER (lang(?nombreEntrenador) = 'es')
}

ORDER BY ?club ?comienzo
LIMIT 100